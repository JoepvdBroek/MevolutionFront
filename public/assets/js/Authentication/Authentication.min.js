Authentication.factory("AuthenticationService",function(){var e={isAuthenticated:!1,isAdmin:!1};return e}),Authentication.factory("TokenInterceptor",function(e,t,n,r){return{request:function(e){return e.headers=e.headers||{},t.sessionStorage.token&&(e.headers.Authorization="Bearer "+t.sessionStorage.access_token),e.headers["x-key"]=options.api.key,e},requestError:function(t){return e.reject(t)},response:function(n){return null!=n&&200==n.status&&t.sessionStorage.token&&!r.isAuthenticated&&(r.isAuthenticated=!0),n||e.when(n)},responseError:function(s){return null!=s&&401===s.status&&(t.sessionStorage.token||r.isAuthenticated)&&(delete t.sessionStorage.token,r.isAuthenticated=!1,n.path("/login")),e.reject(s)}}});