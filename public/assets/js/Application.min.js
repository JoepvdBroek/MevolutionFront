!function t(e,n,o){function r(c,a){if(!n[c]){if(!e[c]){var s="function"==typeof require&&require;if(!a&&s)return s(c,!0);if(i)return i(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){var n=e[c][1][t];return r(n?n:t)},l,l.exports,t,e,n,o)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){t.constant("API",{url:"http://merijncelie.nl:3000/api",key:"EP3qxDM91vOA4FC3i0ERa7SE72le8L32",clientId:"WebV1",clientSecret:"Web123456"}),t.factory("TestService",function(){return{}}),t.factory("UserService",function(t,e){return{login:function(n,o){return t.post(e.url+"/oauth/token",{username:n,password:o,grant_type:"password",client_id:e.clientId,client_secret:e.clientSecret})}}})}},{}],2:[function(t,e,n){e.exports=function(e){var n=angular.module("app.api",[]);return t("./Api.js")(n),n}},{"./Api.js":1}],3:[function(t,e,n){var o=angular.module("app",["ngRoute","app.api","app.authentication","app.moderator"]);o.config(function(t){t.interceptors.push("TokenInterceptor")}).config(function(t){t.startSymbol("[["),t.endSymbol("]]")});t("./Authentication/_index")(o),t("./Api/_index")(o),t("./Moderator/_index")(o);o.run(function(t,e,n,o){t.$on("$routeChangeStart",function(t,r,i){null==r||null==r.access||!r.access.requiredAuthentication||o.isAuthenticated||n.sessionStorage.token||e.path("/auth/login")})}),o.config(["$locationProvider","$routeProvider",function(t,e){e.when("/auth/login",{templateUrl:"partials/login.html",controller:"AuthenticationController"}).when("/moderator",{templateUrl:"partials/moderator_dash.html",controller:"ModeratorController"}).otherwise({redirectTo:"/"})}])},{"./Api/_index":2,"./Authentication/_index":8,"./Moderator/_index":13}],4:[function(t,e,n){e.exports=function(t){t.controller("AuthenticationController",["$scope","$location","$window","UserService","AuthenticationService",function(t,e,n,o,r){t.signIn=function(t,i){null!=t&&null!=i&&o.login(t,i).success(function(t){r.isAuthenticated=!0,n.sessionStorage.access_token=t.access_token,n.sessionStorage.refresh_token=t.refresh_token,e.path("/canvas")}).error(function(t,e){console.log(t),console.log(e)})}}])}},{}],5:[function(t,e,n){e.exports=function(e){t("./AuthenticationController.js")(e)}},{"./AuthenticationController.js":4}],6:[function(t,e,n){e.exports=function(t){t.factory("AuthenticationService",function(){var t={isAuthenticated:!1,isAdmin:!1};return t}),t.factory("TokenInterceptor",["$q","$window","$location","API","AuthenticationService",function(t,e,n,o,r){return{request:function(t){return t.headers=t.headers||{},e.sessionStorage.token&&(t.headers.Authorization="Bearer "+e.sessionStorage.access_token),t.headers["x-key"]=o.key,t},requestError:function(e){return t.reject(e)},response:function(n){return null!=n&&200==n.status&&e.sessionStorage.token&&!r.isAuthenticated&&(r.isAuthenticated=!0),n||t.when(n)},responseError:function(o){return null!=o&&401===o.status&&(e.sessionStorage.token||r.isAuthenticated)&&(delete e.sessionStorage.token,r.isAuthenticated=!1,n.path("/login")),t.reject(o)}}}])}},{}],7:[function(t,e,n){e.exports=function(e){t("./Authentication.js")(e)}},{"./Authentication.js":6}],8:[function(t,e,n){e.exports=function(e){var n=angular.module("app.authentication",["app.api"]);return t("./Controllers/_index.js")(n),t("./Services/_index.js")(n),n}},{"./Controllers/_index.js":5,"./Services/_index.js":7}],9:[function(t,e,n){e.exports=function(t){t.controller("ModeratorController",["$scope","$location","$window","ModeratorFactory",function(t,e,n,o){}])}},{}],10:[function(t,e,n){e.exports=function(e){t("./ModeratorController.js")(e)}},{"./ModeratorController.js":9}],11:[function(t,e,n){e.exports=function(t){t.factory("ModeratorFactory",function(){var t={};return t})}},{}],12:[function(t,e,n){e.exports=function(e){t("./ModeratorFactory.js")(e)}},{"./ModeratorFactory.js":11}],13:[function(t,e,n){e.exports=function(e){var n=angular.module("app.moderator",["app.api"]);return t("./Controllers/_index.js")(n),t("./Services/_index.js")(n),n}},{"./Controllers/_index.js":10,"./Services/_index.js":12}]},{},[3]);