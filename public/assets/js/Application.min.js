!function n(t,e,o){function r(c,s){if(!e[c]){if(!t[c]){var a="function"==typeof require&&require;if(!s&&a)return a(c,!0);if(i)return i(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var l=e[c]={exports:{}};t[c][0].call(l.exports,function(n){var e=t[c][1][n];return r(e?e:n)},l,l.exports,n,t,e,o)}return e[c].exports}for(var i="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(n,t,e){t.exports=function(n){n.controller("AdminController",["$scope","$location","$window","AdminFactory",function(n,t,e,o){n.groups=o.groups}])}},{}],2:[function(n,t,e){t.exports=function(t){n("./AdminController.js")(t)}},{"./AdminController.js":1}],3:[function(n,t,e){t.exports=function(n){n.factory("AdminFactory",function(){var n={};return n.groups=[{name:"test1"},{name:"test2"}],n})}},{}],4:[function(n,t,e){t.exports=function(t){n("./AdminFactory.js")(t)}},{"./AdminFactory.js":3}],5:[function(n,t,e){t.exports=function(t){var e=angular.module("app.adminFunctions",["app.api"]);return n("./Controllers/_index.js")(e),n("./Services/_index.js")(e),e}},{"./Controllers/_index.js":2,"./Services/_index.js":4}],6:[function(n,t,e){"use strict";t.exports=function(n){n.constant("API",{url:"http://merijncelie.nl:3000/api",key:"EP3qxDM91vOA4FC3i0ERa7SE72le8L32",clientId:"WebV1",clientSecret:"Web123456"}),n.factory("TestService",function(){return{}}),n.factory("UserService",function(n,t){return{login:function(e,o){return n.post(t.url+"/oauth/token",{username:e,password:o,grant_type:"password",client_id:t.clientId,client_secret:t.clientSecret})}}})}},{}],7:[function(n,t,e){t.exports=function(t){var e=angular.module("app.api",[]);return n("./Api.js")(e),e}},{"./Api.js":6}],8:[function(n,t,e){var o=angular.module("app",["ngRoute","app.api","app.authentication","app.moderator","app.adminFunctions"]);o.config(function(n){n.interceptors.push("TokenInterceptor")}).config(function(n){n.startSymbol("[["),n.endSymbol("]]")});n("./Authentication/_index")(o),n("./Api/_index")(o),n("./Admin/_index")(o),n("./Moderator/_index")(o);o.run(function(n,t,e,o){n.$on("$routeChangeStart",function(n,r,i){null==r||null==r.access||!r.access.requiredAuthentication||o.isAuthenticated||e.sessionStorage.token||t.path("/auth/login")})}),o.config(["$locationProvider","$routeProvider",function(n,t){t.when("/auth/login",{templateUrl:"partials/login.html",controller:"AuthenticationController"}).when("/moderator",{templateUrl:"partials/moderator_dash.html",controller:"ModeratorController"}).when("/admin",{templateUrl:"partials/admin_dash.html",controller:"AdminController"}).otherwise({redirectTo:"/"})}])},{"./Admin/_index":5,"./Api/_index":7,"./Authentication/_index":13,"./Moderator/_index":18}],9:[function(n,t,e){t.exports=function(n){n.controller("AuthenticationController",["$scope","$location","$window","UserService","AuthenticationService",function(n,t,e,o,r){n.signIn=function(n,i){null!=n&&null!=i&&o.login(n,i).success(function(n){r.isAuthenticated=!0,e.sessionStorage.access_token=n.access_token,e.sessionStorage.refresh_token=n.refresh_token,t.path("/canvas")}).error(function(n,t){console.log(n),console.log(t)})}}])}},{}],10:[function(n,t,e){t.exports=function(t){n("./AuthenticationController.js")(t)}},{"./AuthenticationController.js":9}],11:[function(n,t,e){t.exports=function(n){n.factory("AuthenticationService",function(){var n={isAuthenticated:!1,isAdmin:!1};return n}),n.factory("TokenInterceptor",["$q","$window","$location","API","AuthenticationService",function(n,t,e,o,r){return{request:function(n){return n.headers=n.headers||{},t.sessionStorage.token&&(n.headers.Authorization="Bearer "+t.sessionStorage.access_token),n.headers["x-key"]=o.key,n},requestError:function(t){return n.reject(t)},response:function(e){return null!=e&&200==e.status&&t.sessionStorage.token&&!r.isAuthenticated&&(r.isAuthenticated=!0),e||n.when(e)},responseError:function(o){return null!=o&&401===o.status&&(t.sessionStorage.token||r.isAuthenticated)&&(delete t.sessionStorage.token,r.isAuthenticated=!1,e.path("/login")),n.reject(o)}}}])}},{}],12:[function(n,t,e){t.exports=function(t){n("./Authentication.js")(t)}},{"./Authentication.js":11}],13:[function(n,t,e){t.exports=function(t){var e=angular.module("app.authentication",["app.api"]);return n("./Controllers/_index.js")(e),n("./Services/_index.js")(e),e}},{"./Controllers/_index.js":10,"./Services/_index.js":12}],14:[function(n,t,e){t.exports=function(n){n.controller("ModeratorController",["$scope","$location","$window","ModeratorFactory",function(n,t,e,o){n.groups=o.groups,n.addGroup=function(n){return o.addGroup(n)}}])}},{}],15:[function(n,t,e){t.exports=function(t){n("./ModeratorController.js")(t)}},{"./ModeratorController.js":14}],16:[function(n,t,e){t.exports=function(n){n.factory("ModeratorFactory",function(){var n={};return n.groups=[{name:"test1"},{name:"test2"}],n.addGroup=function(t){n.groups.push({name:t})},n})}},{}],17:[function(n,t,e){t.exports=function(t){n("./ModeratorFactory.js")(t)}},{"./ModeratorFactory.js":16}],18:[function(n,t,e){t.exports=function(t){var e=angular.module("app.moderator",["app.api"]);return n("./Controllers/_index.js")(e),n("./Services/_index.js")(e),e}},{"./Controllers/_index.js":15,"./Services/_index.js":17}]},{},[8]);