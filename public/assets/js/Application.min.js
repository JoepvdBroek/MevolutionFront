!function n(e,t,o){function r(s,a){if(!t[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=t[s]={exports:{}};e[s][0].call(l.exports,function(n){var t=e[s][1][n];return r(t?t:n)},l,l.exports,n,e,t,o)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(n,e,t){e.exports=function(n){n.controller("AdminController",["$scope","$location","$window","OrganisationService","AdminFactory",function(n,e,t,o,r){var i=[];o.getOrganisations().success(function(n,e,t,o){i=n}).error(function(n,e,t,o){console.log(e),console.log(n),console.log(t),console.log(o)}),n.allGroups=i}])}},{}],2:[function(n,e,t){e.exports=function(n){n.controller("NavigationBarController",["$scope",function(n){n.toggle=function(){angular.element(document.getElementById("wrapper")).toggleClass("unfolded")}}])}},{}],3:[function(n,e,t){e.exports=function(e){n("./AdminController.js")(e),n("./NavigationBarController.js")(e)}},{"./AdminController.js":1,"./NavigationBarController.js":2}],4:[function(n,e,t){e.exports=function(n){}},{}],5:[function(n,e,t){e.exports=function(n){n.factory("AdminFactory",function(){var n={};return n})}},{}],6:[function(n,e,t){e.exports=function(e){n("./AdminFactory.js")(e)}},{"./AdminFactory.js":5}],7:[function(n,e,t){e.exports=function(e){var t=angular.module("app.adminFunctions",["app.api"]);return n("./Controllers/_index.js")(t),n("./Services/_index.js")(t),n("./Directives/_index.js")(t),t}},{"./Controllers/_index.js":3,"./Directives/_index.js":4,"./Services/_index.js":6}],8:[function(n,e,t){"use strict";e.exports=function(n){n.constant("API",{url:"http://merijncelie.nl:3000/api",key:"EP3qxDM91vOA4FC3i0ERa7SE72le8L32",clientId:"WebV1",clientSecret:"Web123456"}),n.factory("TestService",function(){return{}}),n.factory("UserService",function(n,e){return{login:function(t,o){return n.post(e.url+"/oauth/token",{username:t,password:o,grant_type:"password",client_id:e.clientId,client_secret:e.clientSecret})}}}),n.factory("OrganisationService",function(n,e){return{getOrganisations:function(){return n.get(e.url+"/groups/"+sessionStorage.access_token,{username:"terry",password:"terry",grant_type:"password",client_id:e.clientId,client_secret:e.clientSecret,headers:{Authorization:"Bearer"+sessionStorage.access_token}})}}})}},{}],9:[function(n,e,t){e.exports=function(e){var t=angular.module("app.api",[]);return n("./Api.js")(t),t}},{"./Api.js":8}],10:[function(n,e,t){var o=["ngRoute","door3.css","app.api","app.authentication","app.moderator","app.adminFunctions","app.canvas"],r=angular.module("app",o);r.config(function(n){n.interceptors.push("TokenInterceptor")});n("./Authentication/_index")(r),n("./Api/_index")(r),n("./Admin/_index")(r),n("./Moderator/_index")(r),n("./Canvas/_index")(r);r.config(["$locationProvider","$routeProvider",function(n,e){e.when("/auth/login",{templateUrl:"partials/login.html",controller:"AuthenticationController"}).when("/moderator",{templateUrl:"partials/moderator_dash.html",controller:"ModeratorController"}).when("/admin",{templateUrl:"partials/admin_dash.html",controller:"AdminController"}).when("/canvas",{templateUrl:"/partials/canvas/canvas.html",controller:"CanvasController",css:[{href:1==debug?"/dev/css/canvas.css":"/assets/css/canvas.css",bustCache:!0}]}).otherwise({redirectTo:"/"})}]),r.run(function(n,e,t,o){n.$on("$routeChangeStart",function(n,r,i){null==r||null==r.access||!r.access.requiredAuthentication||o.isAuthenticated||t.sessionStorage.token||e.path("/auth/login")})})},{"./Admin/_index":7,"./Api/_index":9,"./Authentication/_index":15,"./Canvas/_index":20,"./Moderator/_index":25}],11:[function(n,e,t){e.exports=function(n){n.controller("AuthenticationController",["$scope","$location","$window","UserService","AuthenticationService",function(n,e,t,o,r){n.signIn=function(n,i){null!=n&&null!=i&&o.login(n,i).success(function(n){r.isAuthenticated=!0,t.sessionStorage.access_token=n.access_token,t.sessionStorage.refresh_token=n.refresh_token,e.path("/canvas")}).error(function(n,e){console.log(n),console.log(e)})}}])}},{}],12:[function(n,e,t){e.exports=function(e){n("./AuthenticationController.js")(e)}},{"./AuthenticationController.js":11}],13:[function(n,e,t){e.exports=function(n){n.factory("AuthenticationService",function(){var n={isAuthenticated:!1,isAdmin:!1};return n}),n.factory("TokenInterceptor",["$q","$window","$location","API","AuthenticationService",function(n,e,t,o,r){return{request:function(n){return n.headers=n.headers||{},e.sessionStorage.token&&(n.headers.Authorization="Bearer "+e.sessionStorage.access_token),n.headers["x-key"]=o.key,n},requestError:function(e){return n.reject(e)},response:function(t){return null!=t&&200==t.status&&e.sessionStorage.token&&!r.isAuthenticated&&(r.isAuthenticated=!0),t||n.when(t)},responseError:function(o){return null!=o&&401===o.status&&(e.sessionStorage.token||r.isAuthenticated)&&(delete e.sessionStorage.token,r.isAuthenticated=!1,t.path("/login")),n.reject(o)}}}])}},{}],14:[function(n,e,t){e.exports=function(e){n("./Authentication.js")(e)}},{"./Authentication.js":13}],15:[function(n,e,t){e.exports=function(e){var t=angular.module("app.authentication",["app.api"]);return n("./Controllers/_index.js")(t),n("./Services/_index.js")(t),t}},{"./Controllers/_index.js":12,"./Services/_index.js":14}],16:[function(n,e,t){e.exports=function(n){n.controller("CanvasController",["$scope","$css",function(n,e){}])}},{}],17:[function(n,e,t){e.exports=function(e){n("./CanvasController.js")(e)}},{"./CanvasController.js":16}],18:[function(n,e,t){e.exports=function(n){n.factory("CanvasService",function(n,e){e.factory("CanvasService",function(n){console.log("hoi")})})}},{}],19:[function(n,e,t){e.exports=function(e){n("./Canvas.js")(e)}},{"./Canvas.js":18}],20:[function(n,e,t){e.exports=function(e){var t=angular.module("app.canvas",["app.api"]);return n("./Controllers/_index.js")(t),n("./Services/_index.js")(t),t}},{"./Controllers/_index.js":17,"./Services/_index.js":19}],21:[function(n,e,t){e.exports=function(n){n.controller("ModeratorController",["$scope","$location","$window","ModeratorFactory",function(n,e,t,o){n.groups=o.groups,n.addGroup=function(n){return o.addGroup(n)}}])}},{}],22:[function(n,e,t){e.exports=function(e){n("./ModeratorController.js")(e)}},{"./ModeratorController.js":21}],23:[function(n,e,t){e.exports=function(n){n.factory("ModeratorFactory",function(){var n={};return n.groups=[{name:"test1"},{name:"test2"}],n.addGroup=function(e){n.groups.push({name:e})},n})}},{}],24:[function(n,e,t){e.exports=function(e){n("./ModeratorFactory.js")(e)}},{"./ModeratorFactory.js":23}],25:[function(n,e,t){e.exports=function(e){var t=angular.module("app.moderator",["app.api"]);return n("./Controllers/_index.js")(t),n("./Services/_index.js")(t),t}},{"./Controllers/_index.js":22,"./Services/_index.js":24}]},{},[10]);